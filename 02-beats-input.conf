filter {

        if [message] !~ /VerifyBlockMiner/ {
                drop { }    
        }
        grok {
                match => { "message" => "%{NUMBER:recv-time} - %{TIMESTAMP_ISO8601:recv-date} %{WORD:label}: Block %{BASE16NUM:block-hash} %{GREEDYDATA}height %{NUMBER:height}%{GREEDYDATA} (?<err_type>miner verification %{WORD})" }
                match => { 
                        "[log][file][path]" => "/mnt/nfs/DATASTORE/multichaind-logs/%{GREEDYDATA:filename}/sensors-data/%{GREEDYDATA}"
                }
                break_on_match => false
        }



    date {
        match => [ "recv-time", "UNIX" ]
	target => "recv-timestamp"
    }

    date {
        match => [ "recv-time", "UNIX" ]
        target => "@timestamp"
    }

      mutate {
        convert => { "height" => "integer" }
      }


}

